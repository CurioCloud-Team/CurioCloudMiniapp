<view class="page">
  <section-header title="学情分析上传" description="粘贴学生成绩，快速生成分析报告">
    <view />
  </section-header>

  <view class="form-field">
    <text class="label">考试名称</text>
    <input class="input" type="text" placeholder="例如：期中考试" value="{{examName}}" bindinput="onExamNameInput" />
  </view>

  <view class="form-field">
    <text class="label">学科</text>
    <input class="input" type="text" placeholder="例如：数学" value="{{subject}}" bindinput="onSubjectInput" />
  </view>

  <view class="form-field">
    <text class="label">成绩数据</text>
    <textarea
      class="textarea"
      placeholder="每行格式：姓名,分数\n张三,88\n李四,75"
      value="{{rawEntries}}"
      bindinput="onEntriesInput"
      maxlength="-1"
      auto-height
    />
    <text class="hint">提示：姓名与分数使用中文或英文逗号分隔，自动忽略空行。</text>
  </view>

  <button class="primary" bindtap="submit" loading="{{loading}}" disabled="{{loading}}">生成分析报告</button>
  <button class="secondary" bindtap="goSavedReports" disabled="{{loading}}">查看历史报告</button>
</view>

<bottom-tab-bar active="analysis"></bottom-tab-bar>
